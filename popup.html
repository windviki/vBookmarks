<!DOCTYPE html>
<meta charset="UTF-8">
<link rel="stylesheet" href="neat.css">
<link rel="stylesheet" href="sync-styles.css">
<div id="container">
    <div id="clipboardcopier" style="width: 0; height: 0;">
        <textarea id="copier-input" value=""></textarea>
    </div>
    <div id="search" role="search"><input id="search-input" type="search" results="0" autofocus></div>
      <div id="donation" style="display: none;">
        <li>
            <div id="information-text">
                <p id="new-version-text"></p>
                <p id="donation-text"></p>
            </div>
            <button class="donation-button" id="donation-go" type="button"><i></i></button>
            <button class="donation-close" id="donation-close" type="button" title="Close">×</button>
        </li>
    </div>
    <div id="tree" tabindex="-1"></div>
    <div id="results" tabindex="-1" style="display: none;"></div>
</div>

<!-- Floating Toolbar -->
<div id="floating-toolbar" class="floating-toolbar">
    <button id="toolbar-edit" class="toolbar-btn" data-i18n-title="toolbarEdit" title="书签编辑">
        <svg class="toolbar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
        </svg>
    </button>
    <button id="toolbar-sort-clicks" class="toolbar-btn" data-i18n-title="toolbarSortClicks" title="按点击次数排序">
        <svg class="toolbar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 6h18"></path>
            <path d="M7 12h10"></path>
            <path d="M10 18h4"></path>
            <circle cx="18" cy="6" r="2"></circle>
            <circle cx="12" cy="12" r="2"></circle>
            <circle cx="8" cy="18" r="2"></circle>
        </svg>
    </button>
    <button id="toolbar-sort-date" class="toolbar-btn" data-i18n-title="toolbarSortDate" title="按添加日期排序">
        <svg class="toolbar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
    </button>
    <button id="toolbar-sort-accessed" class="toolbar-btn" data-i18n-title="toolbarSortAccessed" title="按访问日期排序">
        <svg class="toolbar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
            <path d="M3 3v5h5"></path>
            <path d="M12 7v5l4 2"></path>
        </svg>
    </button>
    <button id="toolbar-settings" class="toolbar-btn" data-i18n-title="toolbarSettings" title="设置">
        <svg class="toolbar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"></path>
        </svg>
    </button>
</div>
<div id="drop-overlay"></div>
<div id="bookmark-clone"></div>
<menu id="bookmark-context-menu" type="context" tabindex="-1">
    <command id="bookmark-new-tab" tabindex="-1">
    <command id="bookmark-new-window" tabindex="-1">
    <command id="bookmark-new-incognito-window" tabindex="-1">
    <hr id="bookmark-context-menu-sep1">
    <command id="add-bookmark-before-bookmark" tabindex="-1">
    <command id="add-bookmark-after-bookmark" tabindex="-1">
    <hr id="bookmark-context-menu-sep2">
    <command id="add-folder-before-bookmark" tabindex="-1">
    <command id="add-folder-after-bookmark" tabindex="-1">
    <hr id="bookmark-context-menu-sep3">
    <command id="add-separator" tabindex="-1">
    <hr id="bookmark-context-menu-sep4">
    <command id="replace-url" tabindex="-1">
    <hr id="bookmark-context-menu-sep5">
    <command id="bookmark-edit" tabindex="-1">
    <command id="bookmark-delete" tabindex="-1">
    <hr id="bookmark-context-menu-sep6">
    <command id="copy-title-and-url" tabindex="-1">
</menu>
<menu id="folder-context-menu" type="context" tabindex="-1">
    <command id="folder-window" tabindex="-1">
    <command id="folder-new-window" tabindex="-1">
    <command id="folder-new-incognito-window" tabindex="-1">
    <hr id="folder-context-menu-sep1">
    <command id="add-bookmark-top" tabindex="-1">
    <command id="add-bookmark-bottom" tabindex="-1">
    <hr id="folder-context-menu-sep2">
    <command id="add-new-folder" tabindex="-1">
    <hr id="folder-context-menu-sep3">
    <command id="add-bookmark-before-folder" tabindex="-1">
    <command id="add-bookmark-after-folder" tabindex="-1">
    <hr id="folder-context-menu-sep4">
    <command id="add-folder-before-folder" tabindex="-1">
    <command id="add-folder-after-folder" tabindex="-1">
    <hr id="folder-context-menu-sep5">
    <command id="add-folder-separator" tabindex="-1">
    <hr id="folder-context-menu-sep6">
    <command id="folder-edit" tabindex="-1">
    <command id="folder-delete" tabindex="-1">
    <!--<hr>
	<command id="copy-all-titles-and-urls" tabindex="-1">-->
</menu>
<menu id="separator-context-menu" type="context" tabindex="-1">
    <command id="remove-separator" tabindex="-1">
</menu>
<div id="resizer-x" class="resizer"></div>
<div id="resizer-y" class="resizer"></div>
<div id="cover"></div>
<div id="alert-dialog" class="dialog" role="dialog">
    <p id="alert-dialog-text" class="dialog-text"></p>
</div>
<div id="confirm-dialog" class="dialog" role="dialog">
    <p id="confirm-dialog-text" class="dialog-text"></p>
    <div class="buttons">
        <button id="confirm-dialog-button-1"></button>
        <button id="confirm-dialog-button-2"></button>
    </div>
</div>
<div id="edit-dialog" class="dialog" role="dialog">
    <form id="edit-dialog-form">
        <p id="edit-dialog-text" class="dialog-text"></p>
        <input id="edit-dialog-name">
        <input type="url" id="edit-dialog-url" aria-required="true" required>
        <div class="buttons">
            <button id="edit-dialog-button" type="submit"></button>
            <button id="edit-dialog-cancel-button" type="button"></button>
        </div>
    </form>
</div>
<div id="new-folder-dialog" class="dialog" role="dialog">
    <form id="new-folder-dialog-form">
        <p id="new-folder-dialog-text" class="dialog-text"></p>
        <input id="new-folder-dialog-name">
        <div class="buttons">
            <button id="new-folder-dialog-button" type="submit"></button>
            <button id="new-folder-dialog-cancel-button" type="button"></button>
        </div>
    </form>
</div>
<script src="neatools.js"></script>
<script src="sync-manager.js"></script>
<script src="popup.js"></script>
<script type="module" src="legacy-bridge.js"></script>
<!-- 确保所有依赖初始化完成后再加载neat.js -->
<script src="init-script.js"></script>
<script type="module" src="src/integration-test.js"></script>
<script type="module" src="src/floating-toolbar.js"></script>